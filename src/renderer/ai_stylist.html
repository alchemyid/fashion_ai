<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Fashion Stylist - Fashion AI Generator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/styles.css">
    <style>
        .stylist-container { display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; }
        .outfit-card { background: white; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.05); overflow: hidden; }
        .outfit-image { width: 100%; height: 450px; object-fit: cover; }
        .outfit-details { padding: 1.5rem; }
        
        /* Style Selector Grid */
        .style-selector { display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 10px; margin-bottom: 1.5rem; }
        .style-option input { display: none; }
        .style-option label { 
            display: block; padding: 10px; text-align: center; 
            border: 2px solid #e2e8f0; border-radius: 8px; 
            cursor: pointer; transition: all 0.2s; 
            font-weight: 600; font-size: 0.9rem; 
        }
        .style-option input:checked + label { 
            border-color: #667eea; background-color: #ebf4ff; color: #667eea; 
        }

        /* Upload Box Specific Fixes */
        .upload-box-wide {
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 200px;
            border: 2px dashed #cbd5e1;
            border-radius: 8px;
            transition: all 0.2s;
            position: relative;
            overflow: hidden;
        }
        .upload-box-wide:hover {
            border-color: #667eea;
            background-color: #f7fafc;
        }
        
        /* Animation */
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
<div class="dashboard-layout">
    <!-- Navbar injected via JS -->

    <main class="content">
        <div class="content-header">
            <h1><i class="fas fa-user-tie"></i> AI Fashion Stylist</h1>
            <p>Mix & Match Generator: Upload produk, dapatkan inspirasi outfit lengkap.</p>
        </div>

        <div class="stylist-container">
            <!-- LEFT: CONTROLS -->
            <div class="form-card" style="margin: 0; height: fit-content;">
                
                <!-- 1. Upload Section -->
                <h3 class="font-bold text-xl mb-4">1. Upload Produk Utama</h3>
                
                <!-- Perhatikan struktur label dan input ini -->
                <label for="productInput" class="upload-box-wide">
                    <!-- Placeholder View -->
                    <div id="uploadPlaceholder" style="text-align:center;">
                        <i class="fas fa-cloud-upload-alt" style="font-size: 2.5rem; color: #cbd5e1; margin-bottom: 0.5rem;"></i>
                        <p style="font-weight:600; color:#4a5568;">Klik untuk Upload Baju/Celana</p>
                        <span style="font-size:0.8rem; color:#718096;">Format: JPG, PNG</span>
                    </div>
                    
                    <!-- Preview Image (Hidden by default) -->
                    <img id="productPreview" src="" alt="Preview" style="display:none; max-height: 300px; width: 100%; object-fit: contain;">
                    
                    <!-- Actual Input (Hidden but functional) -->
                    <input type="file" id="productInput" accept="image/*" style="display:none;">
                </label>

                <!-- 2. Style Section -->
                <h3 class="font-bold text-xl mb-2 mt-6">2. Pilih Gaya (Style)</h3>
                <div class="style-selector">
                    <div class="style-option">
                        <input type="radio" name="style" id="s1" value="Casual Daily" checked>
                        <label for="s1">Casual</label>
                    </div>
                    <div class="style-option">
                        <input type="radio" name="style" id="s2" value="Smart Formal">
                        <label for="s2">Formal</label>
                    </div>
                    <div class="style-option">
                        <input type="radio" name="style" id="s3" value="Streetwear Hype">
                        <label for="s3">Streetwear</label>
                    </div>
                    <div class="style-option">
                        <input type="radio" name="style" id="s4" value="Summer Beach">
                        <label for="s4">Summer</label>
                    </div>
                </div>

                <!-- 3. Model Section -->
                <div class="form-group">
                    <label class="font-bold mb-2 block">Target Model</label>
                    <select id="genderSelect" style="width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #cbd5e1; background:white;">
                        <option value="Female Model">Model Wanita</option>
                        <option value="Male Model">Model Pria</option>
                        <option value="Unisex Model">Model Unisex</option>
                    </select>
                </div>

                <!-- Action Button -->
                <button id="generateBtn" class="btn-execute" style="width: 100%; justify-content: center; margin-top: 1.5rem; padding: 1rem;" disabled>
                    <i class="fas fa-magic"></i> Generate Outfit Look
                </button>
            </div>

            <!-- RIGHT: RESULT -->
            <div id="resultArea">
                <div class="form-card" style="margin: 0; text-align: center; padding: 4rem 2rem; color: #a0aec0; border: 2px dashed #e2e8f0;">
                    <i class="fas fa-tshirt" style="font-size: 4rem; margin-bottom: 1rem; opacity: 0.3;"></i>
                    <h3 style="font-size: 1.2rem; font-weight: 600;">Hasil Mix & Match</h3>
                    <p>Upload produk di sisi kiri, lalu klik Generate.</p>
                </div>
            </div>
        </div>
    </main>
    
    <!-- Loading Overlay -->
    <div id="loading" style="display: none; position: fixed; inset: 0; background: rgba(255,255,255,0.9); z-index: 9999; align-items: center; justify-content: center; flex-direction: column;">
        <i class="fas fa-spinner fa-spin fa-3x" style="color: #667eea; margin-bottom: 1rem;"></i>
        <h3 style="color: #2d3748; font-weight: 700;">AI Sedang Bekerja...</h3>
        <p style="color: #718096;">Menganalisis produk & mencocokkan outfit.</p>
    </div>

    <!-- Error Toast -->
    <div id="errorMessage" class="error-message" style="display:none; position: fixed; bottom: 20px; right: 20px; z-index: 10000; width: 300px; background: #fee2e2; color: #991b1b; padding: 1rem; border-radius: 8px; border-left: 4px solid #ef4444; box-shadow: 0 4px 6px rgba(0,0,0,0.1);"></div>
</div>

<script src="js/navbar.js"></script>
<script src="js/ai_stylist.js"></script>
<script>loadNavbar('ai_stylist');</script>
</body>
</html>